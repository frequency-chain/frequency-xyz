import{A as Q,B as W,g as S,C as Z,D as Y,E as U,F as $,G as M,H as X,I as z,J as N,K as V,m as p,L as B,h as k,M as j,N as ee,O as ae,P as re,Q as le,R as ne,T as fe,U as se,V as ve,i as ue,W as te,X as L,Y as R,Z as A,_ as ie,$ as de,u as q,d as F,a0 as ce}from"./Bl9MByqY.js";import{l as G}from"./CcIIfwB_.js";function _e(e,a,r,s){for(var v=[],f=a.length,i=0;i<f;i++)ee(a[i].e,v,!0);var c=f>0&&v.length===0&&r!==null;if(c){var o=r.parentNode;ae(o),o.append(r),s.clear(),g(e,a[0].prev,a[f-1].next)}re(v,()=>{for(var _=0;_<f;_++){var l=a[_];c||(s.delete(l.k),g(e,l.prev,l.next)),se(l.e,!c)}})}function ye(e,a,r,s,v,f=null){var i=e,c={flags:a,items:new Map,first:null};{var o=e;i=k?M(ve(o)):o.appendChild(Q())}k&&ue();var _=null,l=!1,E=Z(()=>{var n=r();return z(n)?n:n==null?[]:X(n)});W(()=>{var n=S(E),d=n.length;if(l&&d===0)return;l=d===0;let u=!1;if(k){var b=i.data===te;b!==(d===0)&&(i=L(),M(i),R(!1),u=!0)}if(k){for(var y=null,t,h=0;h<d;h++){if(A.nodeType===8&&A.data===ie){i=A,u=!0,R(!1);break}var I=n[h],T=s(I,h);t=J(A,c,y,null,I,T,h,v,a,r),c.items.set(T,t),y=t}d>0&&M(L())}k||he(n,c,i,v,a,s,r),f!==null&&(d===0?_?Y(_):_=U(()=>f(i)):_!==null&&$(_,()=>{_=null})),u&&R(!0),S(E)}),k&&(i=A)}function he(e,a,r,s,v,f,i){var c=e.length,o=a.items,_=a.first,l=_,E,n=null,d=[],u=[],b,y,t,h;for(h=0;h<c;h+=1){if(b=e[h],y=f(b,h),t=o.get(y),t===void 0){var I=l?l.e.nodes_start:r;n=J(I,a,n,n===null?a.first:n.next,b,y,h,s,v,i),o.set(y,n),d=[],u=[],l=n.next;continue}if(oe(t,b,h),(t.e.f&N)!==0&&Y(t.e),t!==l){if(E!==void 0&&E.has(t)){if(d.length<u.length){var T=u[0],m;n=T.prev;var D=d[0],x=d[d.length-1];for(m=0;m<d.length;m+=1)O(d[m],T,r);for(m=0;m<u.length;m+=1)E.delete(u[m]);g(a,D.prev,x.next),g(a,n,D),g(a,x,T),l=T,n=x,h-=1,d=[],u=[]}else E.delete(t),O(t,l,r),g(a,t.prev,t.next),g(a,t,n===null?a.first:n.next),g(a,n,t),n=t;continue}for(d=[],u=[];l!==null&&l.k!==y;)(l.e.f&N)===0&&(E??(E=new Set)).add(l),u.push(l),l=l.next;if(l===null)continue;t=l}d.push(t),n=t,l=t.next}if(l!==null||E!==void 0){for(var C=E===void 0?[]:X(E);l!==null;)(l.e.f&N)===0&&C.push(l),l=l.next;var K=C.length;if(K>0){var P=c===0?r:null;_e(a,C,P,o)}}V.first=a.first&&a.first.e,V.last=n&&n.e}function oe(e,a,r,s){j(e.v,a),e.i=r}function J(e,a,r,s,v,f,i,c,o,_){var l=(o&ne)!==0,E=(o&fe)===0,n=l?E?p(v):B(v):v,d=(o&le)===0?i:B(i),u={i:d,v:n,k:f,a:null,e:null,prev:r,next:s};try{return u.e=U(()=>c(e,n,d,_),k),u.e.prev=r&&r.e,u.e.next=s&&s.e,r===null?a.first=u:(r.next=u,r.e.next=u.e),s!==null&&(s.prev=u,s.e.prev=u.e),u}finally{}}function O(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,v=a?a.e.nodes_start:r,f=e.e.nodes_start;f!==s;){var i=de(f);v.before(f),f=i}}function g(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function me(e,a,r=a){var s=ce();G(e,"input",v=>{var f=v?e.defaultValue:e.value;if(f=w(e)?H(f):f,r(f),s&&f!==(f=a())){var i=e.selectionStart,c=e.selectionEnd;e.value=f??"",c!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(c,e.value.length))}}),(k&&e.defaultValue!==e.value||q(a)==null&&e.value)&&r(w(e)?H(e.value):e.value),F(()=>{var v=a();w(e)&&v===H(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function ge(e,a,r=a){G(e,"change",s=>{var v=s?e.defaultChecked:e.checked;r(v)}),(k&&e.defaultChecked!==e.checked||q(a)==null)&&r(e.checked),F(()=>{var s=a();e.checked=!!s})}function w(e){var a=e.type;return a==="number"||a==="range"}function H(e){return e===""?null:+e}export{me as a,ge as b,ye as e};
